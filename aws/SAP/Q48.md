# SAP 48번 문제

Q48. 한 회사가 API를 AWS에 배포하려고 합니다. 이 회사는 로드 밸런서 뒤에서 AWS Fargate에서 API를 실행할 계획입니다. API를 사용하려면 헤더 기반 라우팅을 사용해야 하며 AWS Direct Connect 연결 및 프라이빗 VIF를 통해 온프레미스 네트워크에서 액세스할 수 있어야 합니다. 회사는 API에 연결하는 클라이언트 IP 주소를 AWS의 허용 목록에 추가해야 합니다. 또한 회사는 API의 IP 주소를 허용 목록에 추가해야 합니다. 회사의 보안 팀은 /27 CIDR 범위를 허용 목록에 추가할 수 있도록 허용할 것입니다. 솔루션은 복잡성과 운영 오버헤드를 최소화해야 합니다.
이러한 요구 사항을 충족하는 솔루션은 무엇입니까?

A. Fargate 작업 배포와 동일한 서브넷에 새 애플리케이션 로드 밸런서 (ALB) 를 생성합니다. API에 액세스해야 하는 클라이언트 IP 주소만 포함하는 보안 그룹을 만듭니다. 보안 그룹을 ALB에 연결합니다. 보안 팀에 허용 목록에 대한 ALB의 IP 주소를 제공합니다.

---

API에 액세스할 수 있는 사용자만 액세스 가능해야 하기 때문에 보안 그룹에 해당 IP 주소만을 허용하도록 연결합니다. ALB를 Fargate 앞에 둬 트래픽을 분산하고 보안그룹을 ALB에 연결해 허용되지 않은 트래픽을 수신하지 않도록 설정합니다.
