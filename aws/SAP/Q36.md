# SAP 36번 문제

Q36. 한 회사가 여러 AWS 계정에서 AWS WAF 규칙을 관리하기 위해 AWS WAF 솔루션을 배포하려고 합니다. 계정은 AWS 조직의 서로 다른 OU에서 관리됩니다. 관리자는 필요에 따라 관리형 AWS WAF 규칙 세트에서 계정 또는 OU를 추가하거나 제거할 수 있어야 합니다. 또한 관리자는 모든 계정에서 규정을 준수하지 않는 AWS WAF 규칙을 자동으로 업데이트하고 수정할 수 있어야 합니다.
운영 오버헤드가 가장 적은 상태에서 이러한 요구 사항을 충족하는 솔루션은 무엇입니까?

A. 선택한 OU의 모든 리소스가 AWS WAF 규칙을 연결하도록 요구하는 조직 전체의 AWS Config 규칙을 배포합니다. AWS Lambda를 사용하여 규정 미준수 리소스를 수정하여 자동화된 수정 작업을 배포합니다. AWS 구성 규칙이 적용되는 동일한 OU를 대상으로 하는 AWS CloudFormation 스택 세트를 사용하여 AWS WAF 규칙을 배포합니다.

---

AWS Config는 AWS 리소스 구성을 측정, 감사 및 평가할 수 있는 서비스입니다. Config는 AWS 리소스 구성을 지속적으로 모니터링 및 기록하고 원하는 구성을 기준으로 기록된 구성을 자동으로 평가해줍니다. AWS Config를 사용하면 AWS 리소스의 구성 변경 사항을 지속적으로 모니터링하고 기록할 수 있습니다. 이전 상태에서 변경 사항이 감지되면 사용자가 검토하고 조치를 취할 수 있도록 Amazon SNS 알림이 전송됩니다.

AWS WAF 규칙을 AWS Config 규칙으로 배포하면 리소스 변경 사항을 지속적으로 모니터링해 변경 사항이 감지되면 알림을 받을 수 있습니다.

알림이 감지되면 Lambda 함수가 실행되도록 트리거를 생성하고 CloudFormation 스택 세트를 사용해 단일 CloudFormation 템플릿을 사용하여 여러 리전에 대해 AWS 계정에서 스택을 생성할 수 있습니다. 각 AWS 계정에 AWS WAF 규칙을 CloudFormation을 활용해 생성할 수 있습니다.

스택 세트를 정의하면 지정한 대상 계정 및 리전에서 스택을 생성, 업데이트 또는 삭제할 수 있습니다.

스택은 하나의 단위로 관리할 수 있는 AWS 리소스 모음입니다. 스택을 생성, 업데이트 또는 삭제하여 리소스 모음을 생성, 업데이트 또는 삭제할 수 있습니다.
