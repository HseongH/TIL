# 보안

## 공동 책임 모델

AWS에서 비즈니스 보안은 AWS와 고객 모두가 책임집니다. AWS는 고객의 환경을 단일 객체로 생각하지 않고 다른 부분들이 서로를 기반으로 구축된 일종의 모음이라고 생각합니다. AWS에서는 일부 객체의 보안을 전적으로 책임지고 나머지 객체의 보안은 고객이 전적으로 책임집니다. 이를 공동 책임 모델이라고 합니다.

EC2 인스턴스를 예로 들면 EC2는 물리적 건물 안에 있으며 데이터 센터의 보안이 유지되어야 합니다. 고객의 인스턴스를 지원하는 네트워크 및 하이퍼바이저가 있습니다. 또 개별 운영 체제도 존재하고 운영 체제에는 애플리케이션이 있으며 애플리케이션은 데이터를 지원합니다. 따라서 EC2와 AWS가 제공하는 모든 서비스에는 서로 다른 부분 위에 쌓여 구축되는 비슷한 형태가 존재합니다.

먼저 물리적 계층을 살펴보면 데이터 센터가 존재하는 건물, 울타리, 24시간 순찰할 경비원이 해당합니다. 이는 AWS가 전담합니다. 물리 계층 위에는 네트워크와 하이퍼바이저가 있습니다. AWS는 이러한 기술을 재창조하여 속도를 높이고, 강화하고, 변조를 방지합니다.

운영 체제는 고객이 보안을 담당합니다. AWS는 시스템에 백도어를 설치하지 않으며 오직 고객만 암호화 키를 소유합니다. 고객만이 OS 루트에 로그인하거나 사용자 계정을 만들 수 있습니다. OS 위에서 실행되는 애플리케이션도 고객이 소유하고 유지 관리합니다.

데이터는 언제나 고객이 제어해야 하는 영역입니다. 애플리케이션 유형에 따라 데이터가 공개되어야 하는 경우도 있고 공개되지 않아야하는 경우도 있습니다. AWS는 각 사용자에게 필요한 도구 모음을 제공합니다. 데이터를 승인된 일부에게만 공개할 수도 있고 모두에게 공개하거나 특정 1명에게만 공개하거나 아무도 액세스하지 못하도록 잠글 수도 있습니다.

기본적으로 AWS는 클라우드 자체의 보안을 책임지며 고객은 클라우드 내부의 보안을 책임집니다.

---

## 사용자 권한 및 액세스

AWS 계정을 생성하면 루트 계정 사용자라는 자격이 부여됩니다. 루트 사용자는 AWS 계정의 소유자이며 해당 계정에서 원하는 일은 무엇이든 할 수 있습니다.

AWS로 서비스를 구축하고 운영하다보면 서비스에 접근할 수 있는 사용자의 권한 범위를 지정하고 싶으실 겁니다. AWS Identity and Access Management, 즉 IAM을 사용하면 액세스 권한을 세부적으로 제어할 수 있습니다.

IAM에서는 IAM 사용자를 만들 수 있습니다. 생성된 IAM 사용자는 기본적으로 어떤 권한도 없습니다. 처음에는 AWS 계정에 로그인할 수도 없습니다. 해당 계정에서 작업하려면 사용자 권한을 명시적으로 부여해야 합니다. 사용자에게 필요한 곳에 대한 액세스 권한만 부여해야 하며 이 개념을 최소 권한 원칙이라고 합니다.

권한을 부여하거나 거부하려면 IAM 정책이라고 하는 요소를 IAM 사용자에 연결해야 합니다. IAM 정책은 사용자가 할 수 있거나 없는 API 호출을 설명하는 JSON 문서입니다.

사용자 권한을 더 쉽게 관리하기 위해서 IAM 그룹을 사용하여 그룹을 분류할 수 있습니다. 정책을 그룹에 연결하면 그룹의 모든 사용자가 해당 권한을 갖게 됩니다. 특정 서비스에 대한 액세스 권한을 개별적으로 부여하는 대신 그룹으로 분류해 해당 그룹원들에게 권한을 한 번에 부여할 수 있습니다.
